---
title: Camera
description: A powerful camera component with advanced features like zoom, timer, torch, and video recording.
---

<ComponentPreview
  name='camera-demo'
  description='A basic camera with default settings'
/>

## Installation

<CodeTabs>

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>
<TabsContent value="cli">

```bash
npx @bna/ui add camera
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Install the following dependencies:</Step>

```bash
npm install expo-camera react-native-gesture-handler lucide-react-native
```

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name='camera' title='components/ui/camera.tsx' />

<Step>Update the import paths to match your project setup.</Step>

<Step>Configure permissions in your app.json or expo.json:</Step>

```json
{
  "expo": {
    "plugins": [
      [
        "expo-camera",
        {
          "cameraPermission": "Allow $(PRODUCT_NAME) to access your camera",
          "microphonePermission": "Allow $(PRODUCT_NAME) to access your microphone",
          "recordAudioAndroid": true
        }
      ]
    ]
  }
}
```

</Steps>

</TabsContent>

</CodeTabs>

## Usage

```tsx
import { Camera } from '@/components/ui/camera';
```

```tsx
<Camera
  onCapture={({ uri, type }) => {
    console.log('Captured:', uri, type);
  }}
  onVideoCapture={({ uri, type }) => {
    console.log('Video captured:', uri, type);
  }}
  onClose={() => {
    // Handle camera close
  }}
/>
```

## Examples

### Default

<ComponentPreview
  name='camera-demo'
  description='A basic camera with default settings'
/>

### With Custom Controls

<ComponentPreview
  name='camera-custom-controls'
  description='Camera with custom control settings'
/>

### Picture Only Mode

<ComponentPreview
  name='camera-picture-only'
  description='Camera configured for picture-only mode'
/>

### Video Recording

<ComponentPreview
  name='camera-video'
  description='Camera with video recording capabilities'
/>

### Timer Features

<ComponentPreview
  name='camera-timer'
  description='Camera with timer functionality'
/>

### Zoom Controls

<ComponentPreview
  name='camera-zoom'
  description='Camera with zoom controls and gestures'
/>

### Settings Panel

<ComponentPreview
  name='camera-settings'
  description='Camera with advanced settings panel'
/>

## API Reference

### Camera

The main camera component with comprehensive controls and features.

| Prop               | Type                                    | Default      | Description                                         |
| ------------------ | --------------------------------------- | ------------ | --------------------------------------------------- |
| `style`            | `ViewStyle`                             | -            | Additional styles to apply to the camera container. |
| `facing`           | `'front' \| 'back'`                     | `'back'`     | The initial camera facing direction.                |
| `enableTorch`      | `boolean`                               | `true`       | Whether to show the torch/flash control.            |
| `showControls`     | `boolean`                               | `true`       | Whether to show the camera controls overlay.        |
| `timerOptions`     | `number[]`                              | `[0, 3, 10]` | Available timer options in seconds.                 |
| `enableVideo`      | `boolean`                               | `true`       | Whether to enable video recording mode.             |
| `maxVideoDuration` | `number`                                | `60`         | Maximum video duration in seconds.                  |
| `onClose`          | `() => void`                            | -            | Callback when the close button is pressed.          |
| `onCapture`        | `({ type, uri, cameraHeight }) => void` | -            | Callback when a picture is captured.                |
| `onVideoCapture`   | `({ type, uri, cameraHeight }) => void` | -            | Callback when a video is captured.                  |

### CameraRef

The camera component exposes these methods via ref:

| Method           | Type                  | Description                           |
| ---------------- | --------------------- | ------------------------------------- |
| `switchCamera`   | `() => void`          | Switch between front and back camera. |
| `toggleTorch`    | `() => void`          | Toggle the torch/flash on and off.    |
| `takePicture`    | `() => Promise<void>` | Programmatically take a picture.      |
| `startRecording` | `() => Promise<void>` | Start video recording.                |
| `stopRecording`  | `() => Promise<void>` | Stop video recording.                 |

### CaptureSuccess

The callback data structure for successful captures:

| Property       | Type                   | Description                                  |
| -------------- | ---------------------- | -------------------------------------------- |
| `type`         | `'picture' \| 'video'` | The type of media captured.                  |
| `uri`          | `string`               | The local URI of the captured media.         |
| `cameraHeight` | `number`               | The height of the camera view when captured. |

## Features

### Camera Controls

- **Capture Button**: Large, prominent button for taking pictures or starting/stopping video recording
- **Mode Toggle**: Switch between picture and video modes
- **Camera Flip**: Switch between front and back cameras
- **Torch/Flash**: Toggle flashlight for back camera
- **Zoom**: Pinch-to-zoom gestures and tap-to-zoom controls

### Advanced Features

- **Timer**: Set delays of 0, 3, or 10 seconds before capture
- **Grid Lines**: Rule of thirds overlay for better composition
- **Aspect Ratios**: Support for 16:9, 4:3, and 1:1 ratios
- **Sound Control**: Enable/disable camera sounds
- **Settings Panel**: Collapsible panel with advanced options

### Gestures

- **Pinch to Zoom**: Smooth zoom in/out with gesture controls
- **Double Tap**: Quick zoom toggle between 1x and 2.5x
- **Tap Controls**: Tap zoom button to cycle through zoom levels

### Video Recording

- **Recording Timer**: Shows elapsed recording time
- **Duration Limit**: Configurable maximum recording duration
- **Visual Feedback**: Recording indicator with red dot animation

## Permissions

The Camera component requires camera and microphone permissions. The component will:

1. Check for existing permissions
2. Show a permission request screen if not granted
3. Provide a clear call-to-action to grant permissions
4. Handle permission denial gracefully

## Accessibility

The Camera component includes accessibility features:

- **Screen Reader Support**: All controls have appropriate labels
- **High Contrast**: Clear visual distinction between active/inactive states
- **Touch Targets**: All interactive elements meet minimum size requirements
- **Keyboard Navigation**: Focus management for external keyboard users
- **Reduced Motion**: Respects system animation preferences

## Performance

- **Optimized Rendering**: Minimal re-renders using React.memo and useCallback
- **Gesture Handling**: Efficient native gesture recognition
- **Memory Management**: Proper cleanup of timers and resources
- **Battery Optimization**: Automatic torch disable when switching cameras

## Error Handling

The component handles various error scenarios:

- **Permission Denied**: Shows clear permission request screen
- **Camera Unavailable**: Graceful fallback with error messages
- **Recording Failures**: User-friendly error alerts
- **Memory Issues**: Automatic cleanup and error recovery

## Customization

The Camera component can be customized through:

- **Theme Integration**: Uses theme colors and design tokens
- **Custom Styles**: Style prop for container customization
- **Control Visibility**: Toggle individual control elements
- **Timer Options**: Configure available timer durations
- **Aspect Ratios**: Support for multiple aspect ratios

---
title: File Picker
description: A customizable file picker component with validation, preview, and multiple file support.
---

<ComponentPreview
  name='file-picker-demo'
  description='A basic file picker with validation and preview'
/>

## Installation

<CodeTabs>

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>
<TabsContent value="cli">

```bash
npx @bna/ui add file-picker
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Install the following dependencies:</Step>

```bash
npm install expo-document-picker lucide-react-native
```

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name='file-picker' title='components/ui/file-picker.tsx' />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Usage

```tsx
import { FilePicker } from '@/components/ui/file-picker';
```

```tsx
<FilePicker
  onFilesSelected={(files) => console.log('Selected files:', files)}
  onError={(error) => console.error('Error:', error)}
  fileType='all'
  multiple={true}
  maxFiles={5}
  placeholder='Select your files'
/>
```

## Examples

### Default

<ComponentPreview
  name='file-picker-demo'
  description='A basic file picker with validation and preview'
/>

### Image Only

<ComponentPreview
  name='file-picker-images'
  description='File picker configured for images only'
/>

### Single File

<ComponentPreview
  name='file-picker-single'
  description='File picker for selecting a single file'
/>

### With Validation

<ComponentPreview
  name='file-picker-validation'
  description='File picker with size limits and extension validation'
/>

### Custom Styling

<ComponentPreview
  name='file-picker-styled'
  description='File picker with custom styling and colors'
/>

### Controlled

<ComponentPreview
  name='file-picker-controlled'
  description='Controlled file picker using the useFilePicker hook'
/>

### With File Info

<ComponentPreview
  name='file-picker-info'
  description='File picker displaying detailed file information'
/>

## API Reference

### FilePicker

The main file picker component.

| Prop                  | Type                              | Default          | Description                                |
| --------------------- | --------------------------------- | ---------------- | ------------------------------------------ |
| `onFilesSelected`     | `(files: SelectedFile[]) => void` | -                | Callback when files are selected.          |
| `onError?`            | `(error: string) => void`         | -                | Callback when an error occurs.             |
| `fileType?`           | `'image' \| 'document' \| 'all'`  | `'all'`          | Type of files to allow.                    |
| `multiple?`           | `boolean`                         | `false`          | Whether to allow multiple file selection.  |
| `maxFiles?`           | `number`                          | `10`             | Maximum number of files to select.         |
| `maxSizeBytes?`       | `number`                          | `10MB`           | Maximum file size in bytes.                |
| `allowedExtensions?`  | `string[]`                        | -                | Array of allowed file extensions.          |
| `placeholder?`        | `string`                          | `'Select files'` | Placeholder text for the picker button.    |
| `disabled?`           | `boolean`                         | `false`          | Whether the picker is disabled.            |
| `style?`              | `ViewStyle`                       | -                | Additional styles for the container.       |
| `showFileInfo?`       | `boolean`                         | `true`           | Whether to show file size information.     |
| `accessibilityLabel?` | `string`                          | -                | Accessibility label for the picker button. |
| `accessibilityHint?`  | `string`                          | -                | Accessibility hint for the picker button.  |

### SelectedFile

The file object structure returned by the component.

| Property    | Type     | Description             |
| ----------- | -------- | ----------------------- |
| `uri`       | `string` | The file URI.           |
| `name`      | `string` | The file name.          |
| `type?`     | `string` | The file MIME type.     |
| `size?`     | `number` | The file size in bytes. |
| `mimeType?` | `string` | The file MIME type.     |

### useFilePicker Hook

A hook for managing file picker state programmatically.

```tsx
const { files, addFiles, removeFile, clearFiles, totalSize, isValid, errors } =
  useFilePicker({
    maxFiles: 5,
    maxSizeBytes: 5 * 1024 * 1024, // 5MB
    allowedExtensions: ['pdf', 'doc', 'docx'],
    onError: (error) => console.error(error),
  });
```

#### Options

| Property             | Type                      | Default | Description                       |
| -------------------- | ------------------------- | ------- | --------------------------------- |
| `maxFiles?`          | `number`                  | `10`    | Maximum number of files.          |
| `maxSizeBytes?`      | `number`                  | `10MB`  | Maximum file size in bytes.       |
| `allowedExtensions?` | `string[]`                | -       | Array of allowed file extensions. |
| `onError?`           | `(error: string) => void` | -       | Callback when an error occurs.    |

#### Return Value

| Property     | Type                              | Description                         |
| ------------ | --------------------------------- | ----------------------------------- |
| `files`      | `SelectedFile[]`                  | Array of selected files.            |
| `addFiles`   | `(files: SelectedFile[]) => void` | Function to add files.              |
| `removeFile` | `(index: number) => void`         | Function to remove a file by index. |
| `clearFiles` | `() => void`                      | Function to clear all files.        |
| `totalSize`  | `number`                          | Total size of all files in bytes.   |
| `isValid`    | `boolean`                         | Whether the current state is valid. |
| `errors`     | `string[]`                        | Array of validation errors.         |

### Utility Functions

#### createFileFromUri

```tsx
const file = await createFileFromUri(uri, 'custom-name.pdf');
```

#### validateFiles

```tsx
const { valid, errors } = validateFiles(files, {
  maxSize: 5 * 1024 * 1024,
  allowedExtensions: ['pdf', 'doc'],
  maxFiles: 3,
});
```

## File Types

The component supports three file type modes:

- `'all'` - All file types (default)
- `'image'` - Images only (jpg, jpeg, png, gif, webp, etc.)
- `'document'` - All file types with document picker

## Validation

The FilePicker includes built-in validation for:

- **File size** - Configurable maximum size per file
- **File extensions** - Whitelist of allowed extensions
- **File count** - Maximum number of files
- **MIME types** - Automatic validation based on file type

## Accessibility

The FilePicker component is built with accessibility in mind:

- Proper accessibility labels and hints
- Screen reader support for file information
- Keyboard navigation support
- Clear error messaging
- Semantic button structure

## Best Practices

1. **Set appropriate file size limits** to prevent memory issues
2. **Use specific file type restrictions** when possible
3. **Provide clear error messages** to guide users
4. **Show file previews** when relevant
5. **Handle loading states** for better UX
6. **Validate files** on both client and server side
